implementation of send() and receive()
